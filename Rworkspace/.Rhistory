for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
x
if(x[,4] == 1){
#    tmp[i]<-x[,2]
}else{
#   tmp[i]<-x[,3]
}
}
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
re(x)
if(x[,4] == 1){
#    tmp[i]<-x[,2]
}else{
#   tmp[i]<-x[,3]
}
}
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i]<-x[,2]
else
tmp[i]<-x[,3]
}
tmp
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i]<- as.numeric(x[,2])
else
tmp[i]<- as.numeric(x[,3])
}
tmp
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
View(x)
x<- LUAD.clin.cut[5,]
x
x[,1]
x[,3]
x[,2]
x[,4]
if(x[,4] == 1)
y = 2
if(x[,4] == 1)
y = 3
if(x[,4] == 0)
y = 3
if(x[,4] == 0)
y = 2
if(x[,4] == 1)
y = 3
else
if(x[,4] == 1)
y = 3
else
y = 1
if(x[,4] == 1)
y = 3
else
y = 1
if(x[,4] == 1)
y = 3
else
y = 1
if(x[,4] == 1)
y =3 else y =1
if(x[,4] == 0)
y =3 else y =1
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2] else tmp[i] <- x[,3]
}
tmp
x
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2] else tmp[i] <- x[,3]
}
tmp
tmp<-rep(NA, nrow(LUAD.clin.cut))
tmp
tmp <- ""
for(i in 1:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
paste(tmp, x[,2])
else
paste(tmp, x[,3])
}
tmp
tmp
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in l:nrow(LUAD.clin.cut)) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
paste(tmp, x[,2])
else
paste(tmp, x[,3])
}
1: nrow(LUAD.clin.cut)
?(apply)
for(i in l:10) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
paste(tmp, x[,2])
else
paste(tmp, x[,3])
}
for(i in 1:10) {
x<-LUAD.clin.cut[i,]
if(x[,4] == 1)
paste(tmp, x[,2])
else
paste(tmp, x[,3])
}
x
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
paste(tmp, x[,2])
else
paste(tmp, x[,3])
}
tmp
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
for(i in 1:2 {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
for(i in 1:2) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
head tmp
head (tmp)
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:2) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
head(tmp)
LUAD.clin.cut[1,]
LUAD.clin.cut[2,]
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
for(i in 1:nrow(LUAD.clin.cut)) {
if(LUAD.clin.cut[i,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
for(i in 1:nrow(LUAD.clin.cut)) {
if(LUAD.clin.cut[i,4] == 1)
tmp[i] <- LUAD.clin.cut[i,2]
else
tmp[i] <- LUAD.clin.cut[i,3]
}
tmp
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- x[,2]
else
tmp[i] <- x[,3]
}
tmp
y<-x[,2]
y
tmp[1]
tmp[2]
y<- as.character(x[,2])
y
y<- as.numeric(x[,2])
y
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- as.factor(x[,2])
else
tmp[i] <- as.factor(x[,3])
}
tmp
tmp[1]
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- as.character(x[,2])
else
tmp[i] <- as.character(x[,3])
}
tmp
fun<-function(what){
for(i in 1:nrow(what)) {
x <- what[i,]
if(x[,4] == 1)
tmp[i] <- as.character(x[,2])
else
tmp[i] <- as.character(x[,3])
}
}
class(fun)
tmp<-rep(NA, nrow(LUAD.clin.cut))
fun(LUAD.clin.cut)
tmp
for(i in 1:nrow(LUAD.clin.cut)) {
x <- LUAD.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- as.character(x[,2])
else
tmp[i] <- as.character(x[,3])
}
tmp
data.frame(patient.survival_time = tmp)
data.frame(patient.survival_time = tmp) -> tmp.frame
cbind(LUAD.clin.cut, tmp.frame)
View(LUAD.clin.cut)
cbind(LUAD.clin.cut, tmp.frame)
cbind(LUAD.clin.cut, tmp.frame)-> LUAD.clin.cut.cbind
View(LUAD.clin.cut.cbind)
tmp<-rep(NA, nrow(LUAD.clin.cut))
for(i in 1:nrow(LUSC.clin.cut)) {
x <- LUSC.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- as.character(x[,2])
else
tmp[i] <- as.character(x[,3])
}
data.frame(patient.survival_time = tmp) -> tmp.frame
cbind(LUSC.clin.cut, tmp.frame)-> LUSC.clin.cut.cbind
tmp<-rep(NA, nrow(LUSC.clin.cut))
for(i in 1:nrow(LUSC.clin.cut)) {
x <- LUSC.clin.cut[i,]
if(x[,4] == 1)
tmp[i] <- as.character(x[,2])
else
tmp[i] <- as.character(x[,3])
}
data.frame(patient.survival_time = tmp) -> tmp.frame
cbind(LUSC.clin.cut, tmp.frame)-> LUSC.clin.cut.cbind
View(LUSC.clin.cut.cbind)
library("survival", lib.loc="/usr/lib/R/library")
Surv(LUAD.clin.cut.cbind$patient.survival_time,LUAD.clin.cut.cbind$patient.vital_status)
Surv(as.numeric(LUAD.clin.cut.cbind$patient.survival_time), LUAD.clin.cut.cbind$patient.vital_status)
Surv(as.numeric(LUAD.clin.cut.cbind$patient.survival_time), as.numeric(as.character(LUAD.clin.cut.cbind$patient.vital_status)))
Surv(as.numeric(as.character(LUAD.clin.cut.cbind$patient.survival_time)), as.numeric(as.character(LUAD.clin.cut.cbind$patient.vital_status)))
Surv(as.numeric(as.character(LUAD.clin.cut.cbind$patient.survival_time)), as.numeric(as.character(LUAD.clin.cut.cbind$patient.vital_status)))-> LUAD.surv
survfit(LUAD.surv~1)
survfit(LUAD.surv~1)-> LUAD.sf
plot(LUAD.sf)
save.image()
savehistory()
idtmp
idtmp
View(LUAD.mut.matrix)
$chr
"chr"
chr
chr<- LUAD.cut.top10
chr<- LUAD.mut.top10[1]
chr
$chr
"chr"
(chr)
data.frame((chr) = rep(0,230))
data.frame((chr) = rep(0,230))
data.frame(TTNchr = rep(0,230))
data.frame( TTN = rep(0,230))
cbind(LUAD.mut.matrix,data.frame( TTN = rep(0,230)))
cbind(LUAD.mut.matrix,data.frame( TTN = rep(0,230))) -> LUAD.mut.matrix
View(LUAD.mut.matrix)
LUAD.mut.matrix[2,]
colnames(LUAD.mut.matrix[2,])
colnames(LUAD.mut.matrix[2,])[2]
LUAD.mut.top10[2]
cbind(LUAD.mut.matrix,data.frame( Unknown = rep(0,230)))
cbind(LUAD.mut.matrix,data.frame( Unknown = rep(0,230))) -> LUAD.mut.matrix
LUAD.mut.top10[3]
cbind(LUAD.mut.matrix,data.frame( MUC16 = rep(0,230))) -> LUAD.mut.matrix
LUAD.mut.top10[4]
LUAD.mut.top10
cbind(LUAD.mut.matrix,data.frame( RYR2 = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( CSMD3 = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( LRP1B = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( USH2A = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( TP53 = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( ZFHX4 = rep(0,230))) -> LUAD.mut.matrix
cbind(LUAD.mut.matrix,data.frame( FLG = rep(0,230))) -> LUAD.mut.matrix
LUAD.mut.matrix
save.image()
savehistory()
LUAD.mut.matrix -> matrixtmp
for(i in 1:nrow(tmp)){
x <- tmp[i,]
}
fun
for(i in 1:nrow(tmp)){
x <- tmp[i,]
}
subset(tmp,tmp$Var2 = LUAD.mut.top10)
subset(tmp,tmp$Var2 == LUAD.mut.top10)
subset(tmp,Var2 == LUAD.mut.top10)
subset.data.frame(tmp,Var2 == LUAD.mut.top10)
subset.data.frame(tmp,tmp$Var2 == LUAD.mut.top10)
?(subset.data.frame)
subset(tmp,Var2 == LUAD.mut.top10[1])
subset(tmp, Var2 == 1)
subset(tmp, Freq == 1)
subset(tmp,Var1 == LUAD.mut.top10)
subset(tmp, Freq == 2)
subset(tmp,Var1 == LUAD.mut.top10)
View(LUAD.mut.matrix)
subset(LUAD.tab)
subset(tmp,Var1 == LUAD.mut.top10) -> tmp
View(tmp)
data.frame(LUAD.tab) -> tmp
subset(tmp,Var1 == TP53) -> tmp
subset(tmp,Var1 == "TP53") -> tmp
subset(tmp,Var1 == TP53) -> tmp
subset(tmp,Var1 == MUC16) -> tmp
data.frame(LUAD.tab) -> tmp
subset(tmp,Var1 == MUC16)
subset(tmp,Var1 == "MUC16")
subset(tmp,Var1 == "TP53")
subset(tmp,Var1 == "TP53")[,3]
matrixtmp$TP53 <- subset(tmp,Var1 == "TP53")[,3]
View(matrixtmp)
matrixtmp[,9>1=1]
matrixtmp[,9] > 1 =1
aaaa=c(2,3,4,5,5,4,3,2,12)
aaaa[aaaa>4]=4
aaaa
matrixtmp[matrixtmp$TP53>1] = 1
matrixtmp[matrixtmp[,9]>1] = 1
matrixtmp$TP53 <- subset(tmp,Var1 == "TP53")[,3] -> aaaa
aaaa
aaaa[aaaa>1] =1
aaaa
matrixtmp$TP53 <- aaaa
View(matrixtmp)
LUAD.mut.top10
subset(tmp,Var1 == "TTN")[,3] -> aaaa
aaa
aaaa
aaaa[aaaa>1] =1
matrixtmp$TTN <- aaaa
subset(tmp,Var1 == "Unknown")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$Unknown <- aaaa
subset(tmp,Var1 == "MUC16")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$MUC16 <- aaaa
View(LUAD.mut.matrix)
View(LUAD.mut.matrix)
subset(tmp,Var1 == "RYR2")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$RYR2 <- aaaa
subset(tmp,Var1 == "CSMD3")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$CSMD3 <- aaaa
subset(tmp,Var1 == "LRP1B")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$LRP1B <- aaaa
subset(tmp,Var1 == "USH2A")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$USH2A <- aaaa
LUAD.mut.top10
subset(tmp,Var1 == "ZFHX4")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$ZFHX4 <- aaaa
subset(tmp,Var1 == "FLG")[,3] -> aaaa
aaaa[aaaa>1] =1
matrixtmp$FLG <- aaaa
View(matrixtmp)
matrixtmp -> LUAD.mut.matrix
View(LUSC.clin.cut)
View(LUAD.mut.matrix)
substr(LUAD.mut.matrix$Tumor_Sample_Barcode, 1, 5)
substr(LUAD.mut.matrix$Tumor_Sample_Barcode, 1, 12)
substr(LUAD.mut.matrix$Tumor_Sample_Barcode, 1, 12) -> LUAD.mut.matrix$Tumor_Sample_Barcode
View(LUAD.mut.matrix)
View(LUAD.clin.cut.cbind)
?(merge
)
?(merge)
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by.x = LUAD.clin.cut.cbind$patient.bcr_patient_barcode, by.y = LUAD.mut.matrix$Tumor_Sample_Barcode)
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by = intersect(LUAD.clin.cut.cbind$patient.bcr_patient_barcode, LUAD.mut.matrix$Tumor_Sample_Barcode))
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by = intersect(LUAD.clin.cut.cbind$patient.bcr_patient_barcode, LUAD.mut.matrix$Tumor_Sample_Barcode)) -> tmp
tmp
View(tmp)
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by.x = LUAD.clin.cut.cbind$patient.bcr_patient_barcode, by.y = LUAD.mut.matrix$Tumor_Sample_Barcode) -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by.x = patient.bcr_patient_barcode, by.y = Tumor_Sample_Barcode) -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by.x = "patient.bcr_patient_barcode", by.y = "Tumor_Sample_Barcode"") -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by.y = "patient.bcr_patient_barcode", by.x  = "Tumor_Sample_Barcode") -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by = "patient.bcr_patient_barcode") -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by = Tumor_Sample_Barcode) -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix, by = "Tumor_Sample_Barcode") -> tmp
merge(LUAD.clin.cut.cbind,LUAD.mut.matrix) -> tmp
View(tmp)
toupper(LUAD.clin.cut.cbind$patient.bcr_patient_barcode)
View(LUSC.clin.cut.cbind)
View(LUAD.mut.matrix)
View(LUSC.clin.cut.cbind)
toupper(LUAD.clin.cut.cbind$patient.bcr_patient_barcode)-> LUSC.clin.cut.cbind$patient.bcr_patient_barcode
toupper(LUAD.clin.cut.cbind$patient.bcr_patient_barcode)-> LUAD.clin.cut.cbind$patient.bcr_patient_barcode
merge(LUAD.clin.cut.cbind, LUAD.mut.matrix, by.x = "patient.bcr_patient_barcode", by.y = "Tumor_Sample_Barcode", all.x = TRUE)
LUAD.all.matrix
merge(LUAD.clin.cut.cbind, LUAD.mut.matrix, by.x = "patient.bcr_patient_barcode", by.y = "Tumor_Sample_Barcode", all.x = TRUE) -> LUAD.all.matrix
View(LUAD.all.matrix)
attach(LUAD.all.matrix)
save.image()
savehistory()
library("survival", lib.loc="/usr/lib/R/library")
coxph(LUAD.surv~TP53)
coxph(LUAD.surv~LUAD.mut.top10)
LUAD.mut.top10
coxph(LUAD.surv~ TTN + Unknown + MUC16 +RYR2 + CSMD3 + LRP1B + USH2A + TP53 + ZFHX4 + FLG)
coxph(LUAD.surv~ TTN + Unknown + MUC16 +RYR2 + CSMD3 + LRP1B + USH2A + TP53 + ZFHX4 + FLG) -> LUAD.cox
write.table(LUAD.cox)
LUAD.cox
write(LUAD.cox)
write.dcf(LUAD.cox)
survfit.formulacoxph(LUAD.surv~ TTN + Unknown + MUC16 +RYR2 + CSMD3 + LRP1B + USH2A + TP53 + ZFHX4 + FLG)
survfitcoxph.fit(LUAD.surv~ TTN + Unknown + MUC16 +RYR2 + CSMD3 + LRP1B + USH2A + TP53 + ZFHX4 + FLG)
writeChar(LUAD.cox)
print(LUAD.cox,)
sink(LUAD.cox)
sink(LUAD.cox.txt)
sink("LUAD.cox")
length(LUAD.cox)
sink()
sink("LUAD.cox")
LUAD.cox
sink()
save.image()
savehistory()
coxph(LUAD.surv~ TTN)
attah(LUAD.all.matrix)
attach(LUAD.all.matrix)
coxph(LUAD.surv~ TTN)
coxph(LUAD.surv~ Unknown)
merge(LUAD.clin.cut.cbind, LUAD.mut.matrix, by.x = "patient.bcr_patient_barcode", by.y = "Tumor_Sample_Barcode", all.y = TRUE) -> LUAD.all.matrix2
attach(LUAD.all.matrix2)
coxph(LUAD.surv~ TTN)
coxph(LUAD.surv~ LUAD.all.matrix2$TTN)
LUAD.surv<- Surv(as.numeric(as.character(LUAD.all.matrix2$patient.survival_time)), as.numeric(as.character(LUAD.all.matrix2$patient.vital_status)))
coxph(LUAD.surv~ LUAD.all.matrix2$TTN)
coxph(LUAD.surv~ LUAD.all.matrix2$TP53)
View(LUAD.clin.cut)
View(LUAD.all.matrix2)
LUAD.all.matrix2(complete.cases(LUAD.all.matrix2$patient.survival_time))
LUAD.all.matrix2(complete.cases(LUAD.all.matrix2$patient.survival_time),)
complete.cases(LUAD.all.matrix2$patient.survival_time)
LUAD.all.matrix2[complete.cases(LUAD.all.matrix2$patient.survival_time)]
LUAD.all.matrix2[complete.cases(LUAD.all.matrix2$patient.survival_time),]
LUAD.all.matrix2[complete.cases(LUAD.all.matrix2$patient.survival_time),] -> LUAD.tmp
View(LUAD.tmp)
LUAD.all.matrix2[complete.cases(LUAD.all.matrix2$patient.survival_time),] -> LUAD.all.matrix2.cut
LUAD.surv2<- Surv(as.numeric(as.character(LUAD.all.matrix2.cut$patient.survival_time)), as.numeric(as.character(LUAD.all.matrix2.cut$patient.vital_status)))
coxph(LUAD.surv2~ LUAD.all.matrix2.cut$TP53)
coxph(LUAD.surv2~ LUAD.all.matrix2.cut$TTN)
coxph(LUAD.surv2~ LUAD.all.matrix2.cut$Unknown)
coxph(LUAD.surv2~ LUAD.all.matrix2.cut$USH2A)
save.image()
savehistory()
LUAD.cox
coxph(LUAD.surv2~ as.numeric(as.character(LUAD.all.matrix2.cut$USH2A)))
